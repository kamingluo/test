(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0f078a"],{"9d09":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"crumbs"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[r("i",{staticClass:"el-icon-lx-calendar"}),e._v(" 测试步骤表单")]),r("el-breadcrumb-item")],1)],1),r("div",{staticClass:"container"},[r("div",{staticClass:"form-box"},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[r("el-form-item",{attrs:{label:"步骤ID",prop:"step_id"}},[r("el-input",{model:{value:e.form.step_id,callback:function(t){e.$set(e.form,"step_id",t)},expression:"form.step_id"}})],1),r("el-form-item",{attrs:{label:"步骤名称",prop:"step_title"}},[r("el-input",{model:{value:e.form.step_title,callback:function(t){e.$set(e.form,"step_title",t)},expression:"form.step_title"}})],1),r("el-form-item",{attrs:{label:"接口地址",prop:"url"}},[r("el-input",{model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),r("el-form-item",{attrs:{label:"测试方法",prop:"method"}},[r("el-input",{model:{value:e.form.method,callback:function(t){e.$set(e.form,"method",t)},expression:"form.method"}})],1),r("el-form-item",{attrs:{label:"header前置步骤"}},[r("el-input",{model:{value:e.form.prepose_header_step,callback:function(t){e.$set(e.form,"prepose_header_step",t)},expression:"form.prepose_header_step"}})],1),r("el-form-item",{attrs:{label:"header依赖字段"}},[r("el-input",{model:{value:e.form.prepose_header_key,callback:function(t){e.$set(e.form,"prepose_header_key",t)},expression:"form.prepose_header_key"}})],1),r("el-form-item",{attrs:{label:"header",prop:"header"}},[r("el-input",{attrs:{type:"textarea",rows:"5"},model:{value:e.form.header,callback:function(t){e.$set(e.form,"header",t)},expression:"form.header"}})],1),r("el-form-item",{attrs:{label:"body前置步骤"}},[r("el-input",{model:{value:e.form.prepose_body_step,callback:function(t){e.$set(e.form,"prepose_body_step",t)},expression:"form.prepose_body_step"}})],1),r("el-form-item",{attrs:{label:"body依赖字段"}},[r("el-input",{model:{value:e.form.prepose_body_key,callback:function(t){e.$set(e.form,"prepose_body_key",t)},expression:"form.prepose_body_key"}})],1),r("el-form-item",{attrs:{label:"请求体",prop:"body"}},[r("el-input",{attrs:{type:"textarea",rows:"5"},model:{value:e.form.body,callback:function(t){e.$set(e.form,"body",t)},expression:"form.body"}})],1),r("el-form-item",{attrs:{label:"断言等级",prop:"assert_level"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.assert_level,callback:function(t){e.$set(e.form,"assert_level",t)},expression:"form.assert_level"}},[r("el-option",{key:"0",attrs:{label:"0",value:"0"}}),r("el-option",{key:"1",attrs:{label:"1",value:"1"}}),r("el-option",{key:"2",attrs:{label:"2",value:"2"}})],1)],1),r("el-form-item",{attrs:{label:"运行开关"}},[r("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.form.is_run,callback:function(t){e.$set(e.form,"is_run",t)},expression:"form.is_run"}})],1),r("el-form-item",{attrs:{label:"预期code值"}},[r("el-input",{attrs:{type:"textarea",rows:"1"},model:{value:e.form.expect_code,callback:function(t){e.$set(e.form,"expect_code",t)},expression:"form.expect_code"}})],1),r("el-form-item",{attrs:{label:"预期结果"}},[r("el-input",{attrs:{type:"textarea",rows:"5"},model:{value:e.form.expect_result,callback:function(t){e.$set(e.form,"expect_result",t)},expression:"form.expect_result"}})],1),r("el-form-item",[r("el-button",[e._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("form")}}},[e._v("表单提交")])],1)],1)],1)])])},s=[],l=(r("cadf"),r("551c"),r("097d"),{name:"baseform",data:function(){return{form:{case_id:"",step_id:"",is_run:"",step_title:"",url:"",method:"",prepose_header_step:"",prepose_header_key:"",header:"",prepose_body_step:"",prepose_body_key:"",body:"",return_key:"",return_value:"",assert_level:"",expect_code:"",expect_result:"",result:""},form2:{name:"",region:"",date1:"",date2:"",delivery:!0,type:["步步高"],resource:"小天才",desc:""},rules:{step_id:[{required:!0,message:"请填写步骤ID",trigger:"blur"}],step_title:[{required:!0,message:"请填写步骤名称",trigger:"blur"}],url:[{required:!0,message:"请填写接口地址",trigger:"blur"}],method:[{required:!0,message:"请填写测试方法",trigger:"blur"}],assert_level:[{required:!0,message:"请填写断言等级",trigger:"blur"}]}}},activated:function(){console.log("刷新页面"),console.log("路由传输参数",this.$route.params),this.$route.params.step_id?(console.log("状态为编辑"),this.url="/apicase/steplist/update",this.form=this.$route.params):(console.log("状态为新增"),this.url="/apicase/steplist/add",this.form.case_id=this.$route.params.case_id),console.log("步骤信息",this.form)},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var r=t.form;t.$axios.post(t.url,r).then(function(e){t.$message.success("提交成功！")}),t.$router.go(-1),t.$store.dispatch("delVisitedViews",t.$route)}else console.log("error submit!!")})}}}),a=l,i=r("2877"),p=Object(i["a"])(a,o,s,!1,null,null,null);p.options.__file="CaseStepForm.vue";t["default"]=p.exports}}]);